<template name="block_zone_editor">
  <div class="control-group">
    <label class="control-label" for="blockZoneOne">{{label}}</label>
    <div class="controls">
      <div class="block-zone-container well" data-zone={{zone}}>
        <div class="navbar">
          <div class="navbar-inner">
            <ul class="nav">
              <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown">Add Block<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li class="dropdown-submenu">
                    <a tabindex="-1">New Block</a>
                    <ul class="dropdown-menu">
                      {{#each templates}}
                        <li><a class="new-block" data-name={{name}}>{{label}}&hellip;</a></li>
                      {{/each}}
                    </ul>
                  </li>
                  <li class="existing-block"><a class="existing-block">Existing Block&hellip;</a></li>
                  <li class="block-by-tag"><a class="block-by-tag">By Tag&hellip;</a></li>
                  <li class="dropdown-submenu">
                    <a tabindex="-1">By Type</a>
                    <ul class="dropdown-menu">
                      {{#each templates}}
                        <li><a class="block-by-type" data-name={{name}}>{{label}}&hellip;</a></li>
                      {{/each}}
                    </ul>
                  </li>
                </ul>
              </li>
              <!--<li class="divider-vertical"></li>
              <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown">Sort Blocks<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li class="sort-title-up"><a>By Title <i class="icon-angle-up"></i></a></li>
                  <li class="sort-title-down"><a>By Title <i class="icon-angle-down"></i></a></li>
                  <li class="sort-date-up"><a>By Date Created <i class="icon-angle-up"></i></a></li>
                  <li class="sort-date-down"><a>By Date Created <i class="icon-angle-down"></i></a></li>
                </ul>
              </li>-->
            </ul>
          </div>
        </div>
        <div class="blocks-container">
          <ul class="block-zone clearfix">
            {{! iterate over page block elements; display different things depending on what type we have }}
            {{#each blocks}}
              {{#if id}}
                <li data-type="id" data-id="{{id}}" data-added="{{timestamp}}" class="well edit-block id-block">
                  <p>
                    <span class="block-label">{{label}}</span>
                    <span class="date-time">{{added}}</span>
                  </p>
                  <div class="ops">
                    <a class="edit-block-button"><i class="icon-edit"></i></a>
                    <a class="delete-block-button"><i class="icon-trash"></i></a>
                  </div>
                </li>
              {{/if}}
              {{#if type}}
                <li data-type="type" data-id="{{type}}" data-added="{{timestamp}}" class="well edit-block type-block">
                  <p>
                    <span class="block-label">Type: {{label}}</span>
                    <span class="date-time">{{added}}</span>
                  </p>
                  <div class="ops">
                    <a class="delete-block-button"><i class="icon-trash"></i></a>
                  </div>
                </li>
              {{/if}}
              {{#if tag}}
                <li data-type="tag" data-id="{{tag}}" data-added="{{timestamp}}" class="well edit-block tag-block">
                  <p>
                    <span class="block-label">Tag: {{label}}</span>
                    <span class="date-time">{{added}}</span>
                  </p>
                  <div class="ops">
                    <a class="delete-block-button"><i class="icon-trash"></i></a>
                  </div>
                </li>
              {{/if}}
            {{else}}
              <p class="no-blocks">This block zone currently contains no blocks.  Add one from the menu above!</p>
            {{/each}}
          </ul>
        </div>
      </div>
    </div>
  </div>

  {{>delete_block}}
  {{>edit_block}}
  {{>existing_block}}
  {{>tag_block}}
</template>
