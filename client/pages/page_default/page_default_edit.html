<template name="page_default_edit">
  <div class="container pageEdit">
    <div class="row">
      <div class="span10">
        {{#with page}}
            <h2>Editing "{{title}}"</h2>
            <form class="form-horizontal" id="pageEditForm">

              {{! Page specific fields: Feel free to customize these}}
              <div class="control-group">
                <label class="control-label" for="title">Title</label>
                <div class="controls">
                  <input type="text" id="title"  value="{{title}}" placeholder="Title">
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" for="contents">Contents</label>
                <div class="controls">
                  <textarea id="contents" rows="5" placeholder="Contents">{{{contents}}}</textarea>
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" for="blockZoneOne">Block Zone 1</label>
                <div class="controls">
                  <div class="blockZoneContainer well">
                    <div class="navbar">
                      <div class="navbar-inner">
                        <ul class="nav">
                          <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Add Block<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                              <li class="newBlock"><a href="#">New Block&hellip;</a></li>
                              <li class="newBlock"><a href="#">Existing Block&hellip;</a></li>
                              <li class="newBlock"><a href="#">By Tag&hellip;</a></li>
                              <li class="newBlock"><a href="#">By Type&hellip;</a></li>
                            </ul>
                          </li>
                          <li class="divider-vertical"></li>
                          <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sort Blocks<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                              <li class="newBlock"><a href="#">By Title <i class="icon-angle-up"></i></a></li>
                              <li class="newBlock"><a href="#">By Title <i class="icon-angle-down"></i></a></li>
                              <li class="newBlock"><a href="#">By Date Created <i class="icon-angle-up"></i></a></li>
                              <li class="newBlock"><a href="#">By Date Created <i class="icon-angle-down"></i></a></li>
                            </ul>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <ul class="blockZone clearfix">
                      {{! iterate over page block elements; display different things depending on what type we have }}
                      {{#each blocks}}
                        {{! This logic should be better; Why are there no elseifs in handlebars?!\ }}
                        {{#if id}}
                          <li data-type="id" data-id="{{id}}" class="well editBlock idBlock">
                            <p>By Id</p>
                            <div class="ops">
                              <i class="icon-edit"></i>
                              <i class="icon-trash"></i>
                            </div>
                          </li>
                        {{/if}}
                        {{#if type}}
                          <li class="inline editBlock typeBlock">By Type</li>
                        {{/if}}
                        {{#if tag}}
                          <li class="inline editBlock tagBlock">By tag</li>
                        {{/if}}
                      {{/each}}
                    </ul>
                  </div>
                </div>
              </div>
              {{! End page-specific fields }}

              <!-- <div class="control-group">
                <label class="control-label" for="parent">Parent</label>
                <div class="controls">
                  <select id="parent">
                    <option val="0">None</option>
                  </select>
                </div>
              </div> -->
              <div class="control-group">
                <label class="control-label" for="contents">Page Settings</label>
                <div class="controls">
                  <label class="checkbox">
                    <input id="showInHeader" type="checkbox"> Show In Header
                  </label>
                  <label class="checkbox">
                    <input id="showInFooter" type="checkbox"> Show In Footer
                  </label>
                </div>
              </div>
              <div class="control-group">
                <div class="controls">
                  <input id="savePage" type="submit" class="btn" value="Save" />
                  <button id="deletePage" class="btn btn-danger pull-right">Delete Page</button>
                </div>
              </div>
            </form>
        {{/with}}
        &nbsp;
      </div>
    </div>
  </div>
  <div class="modal hide" id="deletePageModal">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">×</button>
      <h3>Delete Page</h3>
    </div>
    <div class="modal-body">
      <p>Are you sure you want to delete this page?  This action cannot be undone.</p>
    </div>
    <div class="modal-footer">
      <a href="#" class="btn" data-dismiss="modal">Cancel</a>
      <a href="#" class="btn btn-danger delete-page">Confirm Delete</a>
    </div>
  </div>
  <div class="modal hide" id="blockModal">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">×</button>
      <h3>Add Block</h3>
    </div>
    <div class="modal-body">
      <!-- Block edit form goes here -->
    </div>
    <div class="modal-footer">
      <a href="#" class="btn" data-dismiss="modal">Cancel</a>
      <a href="#" class="btn btn-danger save-block">Save Block</a>
    </div>
  </div>
</template>

